<!-- T4 Header explains this screen is for editing existing stock details. -->
<div class="d-flex flex-column flex-lg-row justify-content-between align-items-lg-center mb-4">
  <div>
    <h1 class="mb-1">Edit Inventory Item</h1>
    <p class="text-muted mb-0">Update quantities, dates, or pricing details.</p>
  </div>
  <a class="btn btn-outline-secondary mt-3 mt-lg-0" (click)="goBack()">Back to Inventory</a>
</div>

<!-- T4 Feedback alerts tell the user whether the update succeeded or failed. -->
@if (error()) {
  <div class="alert alert-danger" role="alert">{{ error() }}</div>
}
@if (success()) {
  <div class="alert alert-success" role="alert">{{ success() }}</div>
}

<!-- T4 While loading we show a spinner so the user knows data is on the way. -->
@if (!item() && !error()) {
  <div class="text-center py-5">
    <div class="spinner-border text-primary" role="status" aria-hidden="true"></div>
    <p class="mt-3 mb-0 text-muted">Loading inventory item...</p>
  </div>
} @else if (item()) {
  <!-- T4 Once loaded we pass the current item into the shared form for editing. -->
  <app-inventory-form
    [initialValue]="item()"
    [loading]="loading()"
    [submitLabel]="'Update Item'"
    [errorMessage]="''"
    (submitted)="handleSubmit($event)"
  ></app-inventory-form>
}
