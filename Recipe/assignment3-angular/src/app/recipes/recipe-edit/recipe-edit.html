<!-- T3 Introduce the edit view and keep navigation within easy reach. -->
<div class="d-flex flex-column flex-md-row justify-content-between align-items-md-center mb-4">
  <div>
    <h1 class="mb-1">Edit Recipe</h1>
    <p class="text-muted mb-0">Update the details of your recipe below.</p>
  </div>
  <div class="d-flex flex-wrap gap-2 mt-3 mt-md-0">
    <a class="btn btn-outline-secondary" routerLink="/recipes-list-31477046">Back to Recipes</a>
    <button class="btn btn-outline-primary" type="button" (click)="goToDetails()">View Details</button>
  </div>
</div>

<!-- T3 Confirm to the chef that their updates were saved successfully. -->
@if (success()) {
  <div class="alert alert-success" role="alert">{{ success() }}</div>
}

<!-- T3 Handle loading and error states before showing the edit form. -->
@if (!recipe()) {
  @if (error()) {
    <div class="alert alert-danger" role="alert">{{ error() }}</div>
  } @else {
    <div class="alert alert-info" role="alert">Loading recipe information...</div>
  }
} @else {
  <!-- T3 Share the same dynamic recipe form used for creation to avoid duplication. -->
  <app-recipe-form
    [initialRecipe]="recipe()"
    [submitLabel]="'Save Changes'"
    [loading]="loading()"
    [errorMessage]="error()"
    (submitted)="handleSubmit($event)"
  ></app-recipe-form>
}
